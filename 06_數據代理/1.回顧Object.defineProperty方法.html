<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Object.defineProperty</title>
</head>
<body>
   <script type="text/javascript">
       let number = 18;
       let person = {
           name: '張三',
           sex:'男'
       }

       //此時age是不可以列舉的
       //往person對像里新增屬性
       //關聯
       Object.defineProperty(person,'age', {
           // value: 18,
           // enumerable: true, //此時代表這個屬性是可以列舉的
           // writable: true, //代表可以重寫該屬性(控制屬性是否被修改)
           // configurable:true, //控制屬性是否可以被刪除 預設為false


           //當讀取person的age屬性時get屬性就會被呼叫，且返回值就是age的值
           //invoke property proxy對映數據代理
           get: function () {
               //測試它的呼叫情況
               console.log('@@@ GET AGE');
               //此時age的值依賴number的值
               return number
           },
           //當修改person的age屬性時set(setter)屬性就會被呼叫，且會收到修改的具體值
           set(v) {
               //測試
               console.log('CHANGE AGE');
               number=v;
           }
       });

       // console.log(Object.keys(person))

       //遍歷
       // for(var p  in  person){
       //     console.log('@@', person[p])
       // }



       console.log(person);
   </script>
</body>
</html>
