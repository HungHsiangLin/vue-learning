<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>更新時的一個問題</title>
    <script src="../js/vue.js"></script>
</head>
<body>
<div id="root">
    <h2>人員列表</h2>
    <!--v-model雙向繫結-->
    <button @click="updateM">更新馬冬梅資訊</button>
    <ul v-for="p in persons" :key="p.id">
        <li>{{p.name}}-{{ p.age }}- {{ p.sex }}</li>
    </ul>
</div>
<script type="text/javascript">
    const  vm = new Vue({
        el:'#root',
        data: {
            persons: [
                {id: "001", name:'周冬雨', age:20, sex:'女'},
                {id: "002", name:'馬冬梅', age:19, sex:'女'},
                {id: "003", name:'周杰倫', age:21, sex:'男'},
                {id: "004", name:'溫兆倫', age:22, sex: '男'},
            ],
        },
        methods:{
            updateM(){
                // this.persons[1].name = '馬老師';  //奏效
                // this.persons[1].age = 50;      //奏效
                // this.persons[1].sex = '男'; //奏效
                // this.persons[1] = { id: '002', name: '馬老師', age: 50, sex:'男' }; //這樣修改vue是無法監測數據的
                this.persons.splice(1,1,{ id: '002', name: '馬老師', age: 50, sex:'男' });
            }

        }
    });
</script>
</body>
</html>
